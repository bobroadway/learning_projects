/*
    This is the JavaScript code for 
    "Employee Payroll" 
    File: /unit4/project/project4Part2.html
*/
function project4Part2() {
    // Your code goes in here.
    
    // Declare Constants
    var WITHHOLDING_PERCENT = .15;  // Percent is in decimal format
    var OVERTIME_BOUNDARY = 35;     // Overtime is any hours over 35
    var OVERTIME_PAY = 1.5;         // Overtime is 'time and a half'
    
    // Declare Variables, and initialize
    var employeeRecords = openEmployeePayrollRecords();
    var employeeNumber;
    var employeeName;
    var employeeWage;
    var employeeHours;
    var employeeOvertimeHours;
    var employeeOvertimeWage;
    var employeeGrossPay;
    var employeeWithholding;
    var employeeNetPay;
    
    // Table Heading
    document.write("Employee\tEmployee\tGross\t\tWithholding\tNet\n"
        + "Number\t\tName\t\tPay\t\tAmount\t\tPay\n\n");
    
    // Access the records in a loop, and print the rows with each loop
    while (employeeRecords.readNextRecord()) {
        employeeNumber = employeeRecords.getEmployeeNumber();
        employeeName = employeeRecords.getEmployeeName();
        employeeWage = employeeRecords.getEmployeeHourlyWage();
        employeeHours = employeeRecords.getEmployeeHoursWorked();
        
        // Calculate Gross Pay
        if (employeeHours > OVERTIME_BOUNDARY) {
            // Find overtime hours
            employeeOvertimeHours = employeeHours - OVERTIME_BOUNDARY;
            // Find overtime wage
            employeeOvertimeWage = employeeWage * OVERTIME_PAY;
            // Find Gross Pay by adding the full time hours and wage 
            // with the overtime hours and wage
            employeeGrossPay = (OVERTIME_BOUNDARY * employeeWage) 
                + (employeeOvertimeHours * employeeOverTimeWage);
            
        }
        
        
        document.write(employeeNumber + "\t\t" + employeeName + "\n");   
    }  
}